<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kinobilletter</title>
</head>
<body>
<h1>Bestilling av kinobilletter (oblig1)</h1>

<label for="film">Velg film:</label>
<select id="film">
    <option value="The Boy and the Heron">The Boy and the Heron</option>
    <option value="Verden verste menneske">Verdens verste menneske</option>
    <option value="Past Lives">Past Lives</option>
</select>
<br><br>

<label for="antall">Antall billetter:</label>
<input type="number" id="antall" min="1" required>
<br><br>

<label for="fornavn">Fornavn:</label>
<input type="text" id="fornavn" required>
<br><br>

<label for="etternavn">Etternavn:</label>
<input type="text" id="etternavn" required>
<br><br>

<label for="epost">E-postadresse:</label>
<input type="text" id="epost" required>
<br><br>

<label for="telefon">Telefonnummer:</label>
<input type="text" id="telefon" required>
<br><br>

<button onclick = "kjopBillett()">Kj√∏p billetter</button>

<h2>Alle billetter</h2>
<ul id="billettListe"></ul>

<button onclick = "slettAlleBilletter()">Slett alle billetter</button>

<script>
    let billetter = [];
    function kjopBillett() {
        let fornavn = document.getElementById("fornavn").value;
        let etternavn = document.getElementById("etternavn").value;
        let epost = document.getElementById("epost").value;
        let telefon = document.getElementById("telefon").value;
        let film = document.getElementById("film").value;
        let antall = document.getElementById("antall").value;


        if (fornavn === "" || etternavn === "" || epost === "" || telefon === "" || film === "" || antall === "") {
            alert("Vennligst fyll ut alle feltene.");
            return;
        }

        if (!gyldigEpost(epost)) {
            alert("Skriv inn en gyldig e-postadresse.");
            return;
        }

        if (!gyldigTelefon(telefon)) {
            alert("Skriv inn et gyldig telefonnummer.");
            return;
        }

        if (antall <= 0) {
            alert("Vennligst fyll inn et gyldig antall billetter.");
            return;
        }

        const infoBillett = {
            fornavn: fornavn,
            etternavn: etternavn,
            epost: epost,
            telefon: telefon,
            film: film,
            antall: antall
        }

        billetter.push(infoBillett);
        visBilletter();
        tomInput();
    }

    function visBilletter() {
        const billettListe = document.getElementById('billettListe');
        billettListe.innerHTML = '';

        for (let i = 0; i < billetter.length; i++) {
            const billett = billetter[i];
            const li = document.createElement('li');
            li.textContent = `Navn: ${billett.fornavn} ${billett.etternavn}, E-post: ${billett.epost},
            Telefonnummer: ${billett.telefon}, Film: ${billett.film}, Antall billetter: ${billett.antall}`;
            billettListe.appendChild(li);
        }
    }

    function slettAlleBilletter() {
        billetter = [];
        visBilletter();
    }

    function gyldigEpost(epost) {
        // Tilpasset e-postvalidering
        const epostRegex = /\S+@\S+\.\S+/;
        return epostRegex.test(epost);
    }

    function gyldigTelefon(telefon) {
        const telefonRegex = /^\d{8}$/;
        return telefonRegex.test(telefon);
    }

    function tomInput () {
        document.getElementById("fornavn").value = "";
        document.getElementById("etternavn").value = "";
        document.getElementById("epost").value = "";
        document.getElementById("telefon").value = "";
        document.getElementById("antall").value = "";
        document.getElementById("film").value = "";
    }

</script>
</body>
</html>
